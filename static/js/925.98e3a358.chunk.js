"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[925],{925:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var r=n(439),c=n(87),o=n(689),a=n(791),i="SearchForm_searchInput__h6REp",u="SearchForm_FormSearch__SeTUa",s="SearchForm_searchButton__AQHxA",h=n(184),l=function(e){var t=e.onSubmit,n=(0,a.useState)(""),c=(0,r.Z)(n,2),o=c[0],l=c[1];return(0,h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(o)},className:u,children:[(0,h.jsx)("input",{type:"text",onChange:function(e){return l(e.target.value)},value:o,className:i}),(0,h.jsx)("button",{type:"submit",className:s,children:"Search"})]})},m="Movies_visibleList__S9dDQ",f=function(){var e,t=(0,a.useState)([]),n=(0,r.Z)(t,2),i=n[0],u=n[1],s=(0,c.lr)(),f=(0,r.Z)(s,2),d=f[0],j=f[1],_=(0,o.TH)(),p=d.get(null!==(e="query")?e:""),v=(0,a.useCallback)((function(){var e="".concat("https://api.themoviedb.org/3/search/movie","?query=").concat(p);return fetch(e,{headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmNTU3NDZiZDFhN2VhZDc4YjNiZmQ5MDRhZTAwMDRhNCIsInN1YiI6IjY1MGM2YWI2MmM2YjdiMDBjNGZkZmYzMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.DX99mnnx3ecqx74al80fvW6EsnGicUU6ObIsdIfAqC4"}}).then((function(e){return e.ok?e.json():Promise.reject(new Error("Not found movies"))}))}),[p]);(0,a.useEffect)((function(){p&&v(p).then((function(e){u(e.results)})).catch((function(e){return console.log(e.message)}))}),[v,p]);var I=i&&i.filter((function(e){return e&&e.title.toLowerCase().includes(p.toLowerCase())}));return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l,{onSubmit:function(e){j({query:e})}}),(0,h.jsx)("ul",{className:m,children:I&&I.map((function(e){return(0,h.jsx)("li",{children:(0,h.jsx)(c.rU,{to:"".concat(e.id),state:{from:_},children:e.title})},e.id)}))})]})}}}]);
//# sourceMappingURL=925.98e3a358.chunk.js.map