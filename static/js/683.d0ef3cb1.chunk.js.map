{"version":3,"file":"static/js/683.d0ef3cb1.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/MovieDetails/Movie.module.css?db58","pages/MovieDetails/MovieDetails.js","servises/moviesApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Movie_container__m8jFk\",\"genresList\":\"Movie_genresList__nBHhu\",\"additionalInfoWrapper\":\"Movie_additionalInfoWrapper__9nt59\",\"mainTitle\":\"Movie_mainTitle__0xJmp\",\"textScore\":\"Movie_textScore__kN-g5\",\"subtitle\":\"Movie_subtitle__NVEr9\",\"text\":\"Movie_text__Xcb+6\",\"InfoList\":\"Movie_InfoList__JQeNw\",\"Infotitle\":\"Movie_Infotitle__fdhwb\",\"backLink\":\"Movie_backLink__XPEkL\",\"imageWrrapper\":\"Movie_imageWrrapper__n64YU\",\"content\":\"Movie_content__RsC68\"};","import { Suspense } from 'react';\nimport { useParams, Link, Outlet, useLocation } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { useRef } from 'react';\nimport { fetchMovieDetails } from '../../servises/moviesApi';\n\nimport css from './Movie.module.css';\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n\n  const location = useLocation();\n\n  const [movie, setMovie] = useState(null);\n\n  const backLinLocationkRef = useRef(location.state?.from ?? '/');\n\n  useEffect(() => {\n    if (!movieId) return;\n    fetchMovieDetails(movieId)\n      .then(data => {\n        setMovie(data);\n      })\n      .catch(error => console.log(error.message));\n  }, [movieId]);\n  if (!movie) {\n    return;\n  }\n\n  const BASE_IMAGE_URL = 'https://image.tmdb.org/t/p/w342';\n  const releaseDate = movie.release_date;\n  const dateObj = new Date(releaseDate);\n  const year = dateObj.getFullYear();\n  const userScore = Math.round((movie.vote_average / 10) * 100);\n\n  return (\n    <>\n      <div className={css.container}>\n        <div className={css.imageWrrapper}>\n          <Link to={backLinLocationkRef.current} className={css.backLink}>\n            {'<--'} Go back\n          </Link>\n\n          <img\n            src={`${BASE_IMAGE_URL}${movie.poster_path}`}\n            alt={movie.original_title}\n          />\n        </div>\n        <div className={css.content}>\n          <h1 className={css.mainTitle}>\n            {movie.original_title}({year})\n          </h1>\n          <p className={css.textScore}>User score: {userScore} %</p>\n          <h3 className={css.subtitle}>Overview</h3>\n          <p className={css.text}>{movie.overview}</p>\n          <h3 className={css.subtitle}>Genres</h3>\n          <ul className={css.genresList}>\n            {movie.genres.map(genre => (\n              <li key={genre.id}>{genre.name}</li>\n            ))}\n          </ul>\n        </div>\n      </div>\n      <div className={css.additionalInfoWrapper}>\n        <h3 className={css.Infotitle}>Additional information</h3>\n        <ul className={css.InfoList}>\n          <li>\n            <Link to=\"cast\" className={css.InfoLink}>\n              Cast\n            </Link>\n          </li>\n          <li>\n            <Link to=\"reviews\" className={css.InfoLink}>\n              Reviews\n            </Link>\n          </li>\n        </ul>\n      </div>\n      <Suspense fallback={<div>Loading subpage...</div>}>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\nexport default MovieDetails;\n","const options = {\n  headers: {\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmNTU3NDZiZDFhN2VhZDc4YjNiZmQ5MDRhZTAwMDRhNCIsInN1YiI6IjY1MGM2YWI2MmM2YjdiMDBjNGZkZmYzMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.DX99mnnx3ecqx74al80fvW6EsnGicUU6ObIsdIfAqC4',\n  },\n};\n\nexport const fetchMovies = () => {\n  const URL = 'https://api.themoviedb.org/3/trending/movie/day';\n\n  return fetch(URL, options).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error('Not found movies'));\n  });\n};\n\nexport const fetchMovieDetails = movieId => {\n  const URL = `https://api.themoviedb.org/3/movie/${movieId}`;\n\n  return fetch(URL, options).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error('Not found movies'));\n  });\n};\n\nexport const fetchCast = movieId => {\n  const URL = `https://api.themoviedb.org/3/movie/${movieId}/credits`;\n\n  return fetch(URL, options).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error('Not found movies'));\n  });\n};\nexport const fetchReviews = movieId => {\n  const URL = `https://api.themoviedb.org/3/movie/${movieId}/reviews`;\n\n  return fetch(URL, options).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error('Not found movies'));\n  });\n};\nexport const fetchSearchMovies = query => {\n  const URL = 'https://api.themoviedb.org/3/search/movie';\n\n  const url = `${URL}?query=${query}`;\n  return fetch(url, options).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error('Not found movies'));\n  });\n};\n"],"names":["movieId","useParams","location","useLocation","useState","movie","setMovie","backLinLocationkRef","useRef","state","from","useEffect","fetchMovieDetails","then","data","catch","error","console","log","message","releaseDate","release_date","year","Date","getFullYear","userScore","Math","round","vote_average","className","css","to","current","src","poster_path","alt","original_title","overview","genres","map","genre","name","id","Suspense","fallback","options","headers","Authorization","fetchMovies","fetch","response","ok","json","Promise","reject","Error","URL","fetchCast","fetchReviews","fetchSearchMovies","query","url"],"sourceRoot":""}