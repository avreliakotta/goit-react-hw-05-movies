{"version":3,"file":"static/js/925.98e3a358.chunk.js","mappings":"0NACA,EAA8B,gCAA9B,EAA2E,+BAA3E,EAAyH,iC,SCE5GA,EAAa,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAC3B,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KAOA,OACE,kBAAMH,SANa,SAAAI,GACnBA,EAAMC,iBACNL,EAASE,EACV,EAG+BI,UAAWC,EAAzC,WACE,kBACEC,KAAK,OACLC,SAAU,SAAAC,GAAC,OAAIP,EAASO,EAAEC,OAAOC,MAAtB,EACXA,MAAOV,EACPI,UAAWC,KAEb,mBAAQC,KAAK,SAASF,UAAWC,EAAjC,sBAKL,ECvBD,EAA8B,4BCmE9B,EA/De,WAAO,IAAD,EACnB,GAAwCN,EAAAA,EAAAA,UAAS,IAAjD,eAAOY,EAAP,KAAqBC,EAArB,KAEA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAEMC,GAAWC,EAAAA,EAAAA,MAEXjB,EAAQc,EAAaI,IAAb,UAAiB,SAAjB,EAA4B,IAEpCC,GAAoBC,EAAAA,EAAAA,cAAY,WACpC,IAOMC,EAAG,UAPG,4CAOH,kBAAmBrB,GAC5B,OAAOsB,MAAMD,EAPG,CACdE,QAAS,CACPC,cACE,gOAIqBC,MAAK,SAAAC,GAC9B,OAAIA,EAASC,GACJD,EAASE,OAEXC,QAAQC,OAAO,IAAIC,MAAM,oBACjC,GACF,GAAE,CAAC/B,KAEJgC,EAAAA,EAAAA,YAAU,WACRhC,GACEmB,EAAkBnB,GACfyB,MAAK,SAAAQ,GACJrB,EAAgBqB,EAAKC,QACtB,IACAC,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,EAAMG,QAAtB,GACjB,GAAE,CAACpB,EAAmBnB,IAEvB,IAAMwC,EACJ7B,GACAA,EAAa8B,QACX,SAAAC,GAAK,OAAIA,GAASA,EAAMC,MAAMC,cAAcC,SAAS7C,EAAM4C,cAAtD,IAOT,OACE,iCACE,SAAC/C,EAAD,CAAYC,SANK,SAAAY,GACnBK,EAAgB,CAAEf,MAAOU,GAC1B,KAMG,eAAIN,UAAWC,EAAf,SACGmC,GACCA,EAAcM,KAAI,SAAAJ,GAAK,OACrB,yBACE,SAAC,KAAD,CAAMK,GAAE,UAAKL,EAAMM,IAAMC,MAAO,CAAEC,KAAMlC,GAAxC,SACG0B,EAAMC,SAFFD,EAAMM,GADM,QAUhC,C","sources":["webpack://react-homework-template/./src/components/SearchForm/SearchForm.module.css?d6f1","components/SearchForm/SearchForm.js","webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"searchInput\":\"SearchForm_searchInput__h6REp\",\"FormSearch\":\"SearchForm_FormSearch__SeTUa\",\"searchButton\":\"SearchForm_searchButton__AQHxA\"};","import { useState } from 'react';\nimport css from './SearchForm.module.css';\n\nexport const SearchForm = ({ onSubmit }) => {\n  const [query, setQuery] = useState('');\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    onSubmit(query);\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className={css.FormSearch}>\n      <input\n        type=\"text\"\n        onChange={e => setQuery(e.target.value)}\n        value={query}\n        className={css.searchInput}\n      />\n      <button type=\"submit\" className={css.searchButton}>\n        Search\n      </button>\n    </form>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"visibleList\":\"Movies_visibleList__S9dDQ\"};","import { useSearchParams, Link, useLocation } from 'react-router-dom';\nimport { useState, useEffect, useCallback } from 'react';\nimport { SearchForm } from '../../components/SearchForm/SearchForm';\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n  const [searchMovies, setSearchMovies] = useState([]);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const location = useLocation();\n\n  const query = searchParams.get('query' ?? '');\n\n  const fetchSearchMovies = useCallback(() => {\n    const URL = 'https://api.themoviedb.org/3/search/movie';\n    const options = {\n      headers: {\n        Authorization:\n          'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmNTU3NDZiZDFhN2VhZDc4YjNiZmQ5MDRhZTAwMDRhNCIsInN1YiI6IjY1MGM2YWI2MmM2YjdiMDBjNGZkZmYzMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.DX99mnnx3ecqx74al80fvW6EsnGicUU6ObIsdIfAqC4',\n      },\n    };\n    const url = `${URL}?query=${query}`;\n    return fetch(url, options).then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n      return Promise.reject(new Error('Not found movies'));\n    });\n  }, [query]);\n\n  useEffect(() => {\n    query &&\n      fetchSearchMovies(query)\n        .then(data => {\n          setSearchMovies(data.results);\n        })\n        .catch(error => console.log(error.message));\n  }, [fetchSearchMovies, query]);\n\n  const visibleMovies =\n    searchMovies &&\n    searchMovies.filter(\n      movie => movie && movie.title.toLowerCase().includes(query.toLowerCase())\n    );\n\n  const handleSubmit = value => {\n    setSearchParams({ query: value });\n  };\n\n  return (\n    <>\n      <SearchForm onSubmit={handleSubmit} />\n\n      <ul className={css.visibleList}>\n        {visibleMovies &&\n          visibleMovies.map(movie => (\n            <li key={movie.id}>\n              <Link to={`${movie.id}`} state={{ from: location }}>\n                {movie.title}\n              </Link>\n            </li>\n          ))}\n      </ul>\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["SearchForm","onSubmit","useState","query","setQuery","event","preventDefault","className","css","type","onChange","e","target","value","searchMovies","setSearchMovies","useSearchParams","searchParams","setSearchParams","location","useLocation","get","fetchSearchMovies","useCallback","url","fetch","headers","Authorization","then","response","ok","json","Promise","reject","Error","useEffect","data","results","catch","error","console","log","message","visibleMovies","filter","movie","title","toLowerCase","includes","map","to","id","state","from"],"sourceRoot":""}