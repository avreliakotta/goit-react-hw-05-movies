"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[925],{925:function(e,t,r){r.r(t),r.d(t,{default:function(){return f}});var n=r(439),c=r(87),o=r(689),u=r(791),a="SearchForm_searchInput__h6REp",i="SearchForm_FormSearch__SeTUa",s="SearchForm_searchButton__AQHxA",l=r(184),h=function(e){var t,r=e.onSubmit,o=(0,c.lr)(),u=(0,n.Z)(o,2),h=u[0],m=u[1],f=h.get(null!==(t="query")?t:"");return(0,l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(f)},className:i,children:[(0,l.jsx)("input",{type:"text",onChange:function(e){var t=e.target.value;""===t&&m({}),m({query:t})},value:f||"",className:a}),(0,l.jsx)("button",{type:"submit",className:s,children:"Search"})]})},m="Movies_visibleList__S9dDQ",f=function(){var e,t=(0,u.useState)([]),r=(0,n.Z)(t,2),a=r[0],i=r[1],s=(0,c.lr)(),f=(0,n.Z)(s,2),d=f[0],j=f[1],_=(0,o.TH)(),v=d.get(null!==(e="query")?e:""),p=(0,u.useRef)(v),I=(0,u.useCallback)((function(){var e="".concat("https://api.themoviedb.org/3/search/movie","?query=").concat(v);return fetch(e,{headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmNTU3NDZiZDFhN2VhZDc4YjNiZmQ5MDRhZTAwMDRhNCIsInN1YiI6IjY1MGM2YWI2MmM2YjdiMDBjNGZkZmYzMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.DX99mnnx3ecqx74al80fvW6EsnGicUU6ObIsdIfAqC4"}}).then((function(e){return e.ok?e.json():Promise.reject(new Error("Not found movies"))}))}),[v]);(0,u.useEffect)((function(){p.current&&I(p.current).then((function(e){console.log("data",e),i(e.results)})).catch((function(e){return console.log(e.message)}))}),[I]);var N=a&&a.filter((function(e){return e.title.toLowerCase().includes(v.toLowerCase())}));return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h,{onSubmit:function(e){j({query:e})}}),(0,l.jsx)("ul",{className:m,children:N&&N.map((function(e){return(0,l.jsx)("li",{children:(0,l.jsx)(c.rU,{to:"".concat(e.id),state:{from:_},children:e.title})},e.id)}))})]})}}}]);
//# sourceMappingURL=925.33805483.chunk.js.map