"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[683],{683:function(e,i,n){n.r(i),n.d(i,{default:function(){return l}});var t=n(439),s=n(791),a=n(689),r=n(87),o={container:"Movie_container__m8jFk",genresList:"Movie_genresList__nBHhu",additionalInfoWrapper:"Movie_additionalInfoWrapper__9nt59",mainTitle:"Movie_mainTitle__0xJmp",textScore:"Movie_textScore__kN-g5",subtitle:"Movie_subtitle__NVEr9",text:"Movie_text__Xcb+6",InfoList:"Movie_InfoList__JQeNw",Infotitle:"Movie_Infotitle__fdhwb",backLink:"Movie_backLink__XPEkL",imageWrrapper:"Movie_imageWrrapper__n64YU",content:"Movie_content__RsC68"},c=n(184),l=function(){var e,i=(0,a.UO)().movieId,n=(0,a.TH)();console.log("locationDetails",n);var l=(0,s.useState)(null),d=(0,t.Z)(l,2),h=d[0],m=d[1],u=(0,s.useState)(null),_=(0,t.Z)(u,2),v=_[0],f=_[1],j=(0,s.useRef)(null===(e=n.state)||void 0===e?void 0:e.from);console.log(n),console.log("backLinLocationkRef",j);var x=(0,s.useCallback)((function(){var e="https://api.themoviedb.org/3/movie/".concat(i);return fetch(e,{headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmNTU3NDZiZDFhN2VhZDc4YjNiZmQ5MDRhZTAwMDRhNCIsInN1YiI6IjY1MGM2YWI2MmM2YjdiMDBjNGZkZmYzMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.DX99mnnx3ecqx74al80fvW6EsnGicUU6ObIsdIfAqC4"}}).then((function(e){return e.ok?e.json():Promise.reject(new Error("Not found movies"))}))}),[i]);if((0,s.useEffect)((function(){i&&x().then((function(e){m(e)})).catch((function(e){return f(e.message)}))}),[x,i]),!h)return(0,c.jsx)("div",{children:"Loading..."});var p=h.release_date,N=new Date(p).getFullYear(),I=Math.round(h.vote_average/10*100);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:o.container,children:[v&&alert("Not found any movie"),(0,c.jsxs)("div",{className:o.imageWrrapper,children:[(0,c.jsxs)(r.rU,{to:j.current,className:o.backLink,children:["<--"," Go back"]}),(0,c.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w342").concat(h.poster_path),alt:h.original_title})]}),(0,c.jsxs)("div",{className:o.content,children:[(0,c.jsxs)("h1",{className:o.mainTitle,children:[h.original_title,"(",N,")"]}),(0,c.jsxs)("p",{className:o.textScore,children:["User score: ",I," %"]}),(0,c.jsx)("h3",{className:o.subtitle,children:"Overview"}),(0,c.jsx)("p",{className:o.text,children:h.overview}),(0,c.jsx)("h3",{className:o.subtitle,children:"Genres"}),(0,c.jsx)("ul",{className:o.genresList,children:h.genres.map((function(e){return(0,c.jsx)("li",{children:e.name},e.id)}))})]})]}),(0,c.jsxs)("div",{className:o.additionalInfoWrapper,children:[(0,c.jsx)("h3",{className:o.Infotitle,children:"Additional information"}),(0,c.jsxs)("ul",{className:o.InfoList,children:[(0,c.jsx)("li",{children:(0,c.jsx)(r.rU,{to:"cast",className:o.InfoLink,children:"Cast"})}),(0,c.jsx)("li",{children:(0,c.jsx)(r.rU,{to:"reviews",className:o.InfoLink,children:"Reviews"})})]})]}),(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)("div",{children:"Loading subpage..."}),children:(0,c.jsx)(a.j3,{})})]})}}}]);
//# sourceMappingURL=683.13f398fe.chunk.js.map