"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[925],{925:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var r=n(439),c=n(87),o=n(689),a=n(791),u="SearchForm_searchInput__h6REp",i="SearchForm_FormSearch__SeTUa",s="SearchForm_searchButton__AQHxA",l=n(184),h=function(e){var t=e.onSubmit,n=(0,a.useState)(""),c=(0,r.Z)(n,2),o=c[0],h=c[1];return(0,l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(o)},className:i,children:[(0,l.jsx)("input",{type:"text",onChange:function(e){return h(e.target.value)},value:o,className:u}),(0,l.jsx)("button",{type:"submit",className:s,children:"Search"})]})},m="Movies_visibleList__S9dDQ",f=function(){var e,t=(0,a.useState)([]),n=(0,r.Z)(t,2),u=n[0],i=n[1],s=(0,c.lr)(),f=(0,r.Z)(s,2),d=f[0],j=f[1],_=(0,o.TH)(),p=d.get(null!==(e="query")?e:""),v=(0,a.useRef)(p),I=(0,a.useCallback)((function(){var e="".concat("https://api.themoviedb.org/3/search/movie","?query=").concat(p);return fetch(e,{headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmNTU3NDZiZDFhN2VhZDc4YjNiZmQ5MDRhZTAwMDRhNCIsInN1YiI6IjY1MGM2YWI2MmM2YjdiMDBjNGZkZmYzMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.DX99mnnx3ecqx74al80fvW6EsnGicUU6ObIsdIfAqC4"}}).then((function(e){return e.ok?e.json():Promise.reject(new Error("Not found movies"))}))}),[p]);(0,a.useEffect)((function(){v.current&&I(v.current).then((function(e){console.log("data",e),i(e.results)})).catch((function(e){return console.log(e.message)}))}),[I]);var N=u&&u.filter((function(e){return e.title.toLowerCase().includes(p.toLowerCase())}));return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h,{onSubmit:function(e){j({query:e})}}),(0,l.jsx)("ul",{className:m,children:N&&N.map((function(e){return(0,l.jsx)("li",{children:(0,l.jsx)(c.rU,{to:"".concat(e.id),state:{from:_},children:e.title})},e.id)}))})]})}}}]);
//# sourceMappingURL=925.8ec1bf5a.chunk.js.map